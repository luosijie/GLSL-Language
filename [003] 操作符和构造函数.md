# 操作符和构造函数
### 操作符
GLSL不支持求地址的和解引用的操作符，因为GLSL不能直接操作地址，也不支持类型转换操作。
操作符优先级从高到低排列如下

| 操作符          | 描述                                                |
| :-------------- | :------------------------------------------------- |
| ()              | 用于表达式组合，函数调用，构造                        |
| []              | 数组下标，向量或矩阵的选择器                          |
| .               | 结构体和向量的成员选择                               |
| ++ --           | 前缀或后缀的自增、自减操作符                          |
| + - !           | 一元操作符，表示正、负、逻辑非                        |
| * /             | 乘、除操作符                                         |
| + -             | 二元操作符，表示加、减操作                            |
| <> <= >= == !=  | 小于、大于、小于或等于、大于或等于、等于、不等于 判断符  | 
| && || ^^        | 逻辑与、或、异或                                     |
| ?:              | 条件判断符                                           |
| = += -= * = / = | 赋值操作符                                           |
| ,               | 表示序列                                             |

### 构造函数 
GLSL的构造函数和C语言类似，特别是矩阵。对于矩阵， OpenGL 中矩阵是列主顺序的。如果只传了一个值，则会构造成对角矩阵，其余元素为 0。
```glsl
mat3 m3 = mat3(1.0）
```
构造出来的矩阵如下
```glsl
1.0 0.0 0.0
0.0 1.0 0.0
0.0 0.0 1.0 
```
下面都是合法的矩阵构造函数
```hlsl
mat2 matrix3 = mat2(1.0);
mat2 matrix4 = mat2(mat4(2.0));
mat2 matrix1 = mat2(2.0, 0.0, 0.0, 2.0);
mat2 matrix2 = mat2(vec2(2.0, 0.0), vec2(0.0, 1.0));
```

### 元素选择
一个向量中的分量可以通过下面几种方法选择，这几种方法是等价的
```hlsl
{ x, y, z, w }
{ r, g, b, a }
{ s, t, p, q }
```
这3种方法通常分别用于 顶点、 颜色、 纹理坐标。
这3种方法是等价的，但每种方法里的4个成分不可互相混用。
```hlsl
vec3 test = { 0.1, 0.2, 0.3 };
float test0 = test.r;
vec2 test1 = test.yz;
```
向量中的元素可以重复和颠倒顺序，代码如下。
```hlsl
vec3 test4 = test.yxz;
vec4 test6 = test.sst;
```
赋值时可以按照选择顺序进行，代码如下。
```hlsl
vec4 test = { 0.0, 1.0, 2.0, 3.0 }
text.x = -1.0;
test.yz = vec2(1.0, 2.0);
test.zx = vec2(1.0, 2.0);
```
下面的用法是不合法的。
```hlsl
float test1 = test.q
vec2 test1 = test.ry
```
向量或矩阵中的元素也可以通过下标来访问，代码如下。
```hlsl
float test1 = test[1]
```
在矩阵中，可以通过一维的下标来获得该列的向量，还可以通过二维的下标来获得向量中的元素。
```hlsl
mat3 test = mat(1.0)
vec3 test1 = test[0]
float test2 = test[0][0]
```
